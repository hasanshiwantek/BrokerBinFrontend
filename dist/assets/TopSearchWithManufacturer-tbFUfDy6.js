import{b as f,a as g,k as v,u as b,c as S,r as k,av as j,j as e,L as a}from"./index-SDeZWYlL.js";import{c as o}from"./TopSearches.module-B1l8CGlK.js";import{s as c}from"./Company.module-DRO5cVpv.js";const E=()=>{const h=f.get("token"),u=g(),p=v(),m=b(),{topSearchData:l,loading:y,error:d}=S(t=>t.reports),x=new URLSearchParams(p.search),s=x.get("query")||"",r=x.get("manufacturer")||"";console.log(s,r),k.useEffect(()=>{u(j({token:h,parameter:s,mfg:r}))},[s,r]);const i=(t,n)=>{t.preventDefault(),j({token:h,parameter:n,mfg:r}),m(`/reports/topSearchWithManufacturer?query=${n}&manufacturer=${encodeURIComponent(r)}`,{replace:!0})};return y?e.jsx("p",{children:"Loading..."}):d?e.jsxs("p",{children:["Error: ",d.message]}):e.jsxs("div",{className:o.container,children:[e.jsx("div",{className:c.navTabs,children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(a,{to:"/reports/Company",children:"Company"})}),e.jsx("li",{children:e.jsx(a,{to:"/reports/sitewide",children:"Site Wide"})}),e.jsx("li",{children:e.jsx(a,{to:"/reports/email",children:"Email"})}),e.jsx("li",{children:e.jsx(a,{to:"/reports/serviceStats",children:"Stats"})})]})}),e.jsxs("div",{className:o.topSearches,children:[e.jsxs("h3",{children:["Top 200 Searches ",s,":"]}),e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rank"}),e.jsx("th",{children:"# of hits"}),e.jsx("th",{children:"Part #/HECI"}),e.jsx("th",{children:"Mfg"}),e.jsx("th",{children:"Qty Available"}),e.jsx("th",{children:"Avg Price"}),e.jsx("th",{children:"Description (Random)"})]})}),e.jsx("tbody",{children:l.length>0?l.map((t,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:n+1}),e.jsx("td",{children:t.search_count}),e.jsx("td",{children:t.inventory.partModel}),e.jsx("td",{children:t.inventory.mfg}),e.jsx("td",{children:t.inventory.quantity}),e.jsx("td",{children:t.inventory.price}),e.jsx("td",{children:t.inventory.productDescription})]},t.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:"7",style:{textAlign:"center"},children:"No data found for this manufacturer."})})}),e.jsx("tfoot",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"rank"}),e.jsx("th",{children:"# of hits"}),e.jsx("th",{children:"Part #/HECI"}),e.jsx("th",{children:"Mfg"}),e.jsx("th",{children:"Qty Available"}),e.jsx("th",{children:"Avg Price"}),e.jsx("th",{children:"Description (Random)"})]})})]}),e.jsxs("div",{className:o.topSearchButtons,children:[e.jsx("button",{type:"button",className:c.basicButton,onClick:t=>i(t,"last_month"),children:"Last 30 Days"}),e.jsx("button",{type:"button",className:c.basicButton,onClick:t=>i(t,"7days"),children:"Last 7 Days"}),e.jsx("button",{type:"button",className:c.basicButton,onClick:t=>i(t,"yesterday"),children:"Yesterday"})]})]})]})};export{E as default};
